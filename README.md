## 航空购票
架构选型:
####后端框架
Spring SpringMvc Hibernate (SSH)
####前端框架
Bootstrap , Jquery
###项目描述:
1. 用户第一次买票可以享受票价的9.5折,之后随购买次数的增加折扣值依次增加,每次折扣多0.5 ,
 最低折扣为7.0折.
2. 每个用户添加联系人最多只能添加5个联系人且联系人是系统中已存在的id(这一点有别于平常购票逻辑)
3. 用户的注册以及添加联系人操作都会异步校验输入的身份证号码是否合法 , 这里的合法包括长度还有正
常的出生日期以及身份证校验位的严格校验.
4. 用户可以购买哪些车次是预先录入到库中的.
5. 服务启动时会将当前库中的车次以及车次的余票信息放入到ConstantUtils的静态ConcurrentHashMap集合
中,当用户购票时会首先检查集合中该车次是否存在库存,如果存在首选从集合中减去该车次的库存然后再操作
数据库完成下单,紧接着再从库中减去此车次的库存.如果操作过程中发生了异常会在catch块中将集合中该车次
的库存重新加回去,结束流程.
6. 验证码被放入到了注册页面,如果有必要必须放到登录页面请自行迁移或者找本人迁移.
7. 数据库初始化脚本放入到本项目的根目录下名为air.sql .
8. 实际使用时请修改项目resources目录下的jdbc.properties文件,将数据库连接属性修改为自己的数据库
所在地址以及数据库名,用户名,密码.
9. 项目中ContextLoadListener监听器用于监听Spring容器启动,在容器启动时将当前库中车次和库存信息放
入到ConstantUtils中静态集合中,用于用户购票行为的判断等.
10. 项目中UserLoginInterceptor拦截器用于拦截用户行为, 如果用户未登录不能进行一切操作.
(当然除了登录操作)
11. 项目中页面属性的校验使用了bootstrap的validate前端框架进行校验,可以在不提交表单的情况下告知
所填信息的对错,但只是简单的判断和对于单一错误的错误信息提示,不能根据响应判断显示错误信息.(可能
bootstrap支持但是本人不知道)
12. 其中包括对身份证的校验,是按照身份证的生成规则严格校验的.
